{% extends 'base.html' %}
{% block title %} {{ blog.title}} {% endblock %}

{% block content %}


    <h1> {{ blog.title }} </h1>
    <div style="display: flex; justify-content: space-between;">
        <h5> Author: <small>{{ blog.author.first_name}} {{ blog.author.last_name}}</small> </h5>
        <p style="font-weight: 500;"> {{ blog.date_created }} </p>
    </div>
    <div style="display: flex; justify-content: space-between;">
        <h6> Category: <small>{{ blog.category.name }}</small> </h6>
        <div>
            <h6>{{ blog.likes.count }} likes</h6>
            {% if user.is_authenticated %}
                <form action="{% url 'like_blog' blog.pk %}" method="POST">
                    {% csrf_token %}
                    <button type="submit" name="blog_id", value="{{ blog.id }}" class="btn btn-danger" style="font-weight: 600"> Like </button>
                </form>
            {% else %}
                <h1>You must be logged in to be able to like blog!</h1>
            {% endif %}
        </div>
    </div>
    <hr/>
    <p style="text-align: justify;"> {{ blog.body|safe }} </p>
    <hr>
    <div style="display: flex; justify-content: space-between;">
        {% if user.is_authenticated and blog.author.id == user.id %}
        <div>
            <a class="btn btn-dark" href="{% url 'updateblogview' blog.pk %}" style="font-weight: 600"> Edit</a>
            <a class="btn btn-danger" href="{% url 'deleteblogview' blog.pk %}" style="font-weight: 600"> Delete</a>
        </div>
        {% endif %}
        <div>
            <a class="btn btn-dark" href="{% url 'homeview' %}" style="font-weight: 600"> Back</a>
        </div>
    </div>

{% endblock %}


